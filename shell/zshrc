# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
# â”ƒ                      ğŸš€ AHAD's ZSH Configuration                          â”ƒ
# â”ƒ                         Zorin OS â€¢ Optimized                              â”ƒ
# â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ”§ Core Settings                                                         â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
# Disable insecure directory warnings
ZSH_DISABLE_COMPFIX=true

# Path to Oh My Zsh
export ZSH="$HOME/.oh-my-zsh"

# Theme
ZSH_THEME="mira"

# Auto-update settings
zstyle ':omz:update' mode auto
zstyle ':omz:update' frequency 14

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ“¦ Plugins                                                               â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
plugins=(
    git                      # ğŸ”€ Git aliases & functions
    z                        # âš¡ Smart directory jumping
    zsh-autosuggestions      # ğŸ’¡ Fish-like suggestions
    zsh-syntax-highlighting  # ğŸ¨ Syntax highlighting
    sudo                     # ğŸ” ESC+ESC to add sudo
    copypath                 # ğŸ“‹ Copy path to clipboard
    copyfile                 # ğŸ“„ Copy file to clipboard
    extract                  # ğŸ“¦ Extract any archive
    colored-man-pages        # ğŸ“š Colorful man pages
    web-search               # ğŸ” Search from terminal
    command-not-found        # â“ Suggest package installs
)

source $ZSH/oh-my-zsh.sh

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ›¤ï¸  PATH Configuration                                                   â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
export PATH="$HOME/bin:$HOME/.local/bin:/usr/local/bin:$PATH"
export PATH="$PATH:/opt/JetBrains Rider-2024.3.3/bin"
export PATH="$PATH:/opt/mssql-tools18/bin"

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ âš™ï¸  Shell Options                                                        â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
setopt AUTO_CD              # cd by typing directory name
setopt AUTO_PUSHD           # Push dirs to stack automatically
setopt PUSHD_IGNORE_DUPS    # Don't push duplicates
setopt CORRECT              # Command spelling correction
setopt INTERACTIVE_COMMENTS # Allow comments in interactive mode
setopt NO_BEEP              # No beeping

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ“œ History Configuration                                                 â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
HISTSIZE=100000
SAVEHIST=100000
HISTFILE=~/.zsh_history
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_FIND_NO_DUPS
setopt HIST_SAVE_NO_DUPS
setopt SHARE_HISTORY
setopt EXTENDED_HISTORY
setopt HIST_VERIFY          # Show command before executing from history

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ¯ Completion Settings                                                   â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
zstyle ':completion:*' menu select
zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}'
zstyle ':completion:*' list-colors "${(s.:.)LS_COLORS}"
zstyle ':completion:*' group-name ''
zstyle ':completion:*:descriptions' format '%F{yellow}â”€â”€ %d â”€â”€%f'
zstyle ':completion:*:warnings' format '%F{red}No matches found%f'

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ¨ Colors & Appearance                                                   â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
export CLICOLOR=1
export LSCOLORS=GxFxCxDxBxegedabagaced

# Syntax highlighting colors
typeset -A ZSH_HIGHLIGHT_STYLES
ZSH_HIGHLIGHT_STYLES[command]='fg=green,bold'
ZSH_HIGHLIGHT_STYLES[alias]='fg=cyan,bold'
ZSH_HIGHLIGHT_STYLES[builtin]='fg=yellow,bold'
ZSH_HIGHLIGHT_STYLES[path]='fg=blue,underline'
ZSH_HIGHLIGHT_STYLES[single-quoted-argument]='fg=magenta'
ZSH_HIGHLIGHT_STYLES[double-quoted-argument]='fg=magenta'

# Autosuggestion color
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=244'

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ âŒ¨ï¸  Key Bindings                                                         â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
bindkey '^[[A' history-search-backward  # Up arrow - search history
bindkey '^[[B' history-search-forward   # Down arrow - search history
bindkey '^[[H' beginning-of-line        # Home key
bindkey '^[[F' end-of-line              # End key
bindkey '^[[3~' delete-char             # Delete key
bindkey '^[[1;5C' forward-word          # Ctrl+Right
bindkey '^[[1;5D' backward-word         # Ctrl+Left

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ“ Navigation Aliases                                                    â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias ~='cd ~'
alias -- -='cd -'

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ“‚ File Listing Aliases                                                  â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
alias ls='ls --color=auto --group-directories-first'
alias ll='ls -lAh --color=auto --group-directories-first'
alias la='ls -A --color=auto'
alias l='ls -CF --color=auto'
alias lt='ls -ltrh --color=auto'   # Sort by time
alias lS='ls -lSrh --color=auto'   # Sort by size
alias tree='tree -C --dirsfirst'

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ›¡ï¸  Safety Aliases                                                       â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
alias rm='rm -I --preserve-root'
alias cp='cp -iv'
alias mv='mv -iv'
alias ln='ln -iv'
alias chmod='chmod --preserve-root'
alias chown='chown --preserve-root'

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ”€ Git Aliases                                                           â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
# alias g='git'
alias gs='git status -sb'
alias ga='git add'
alias gaa='git add --all'
alias gc='git commit -m'
alias gca='git commit -am'
alias gp='git push'
alias gpu='git push -u origin HEAD'
alias gpl='git pull'
alias gco='git checkout'
alias gcb='git checkout -b'
alias gb='git branch -v'
alias gd='git diff'
alias gds='git diff --staged'
alias gl='git log --oneline --graph --decorate -15'
alias gla='git log --oneline --graph --decorate --all'
alias gst='git stash'
alias gstp='git stash pop'
alias grh='git reset --hard'
alias gclean='git clean -fd'

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ Python Aliases                                                        â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
alias py='python3'
alias python='python3'
alias pip='pip3'
alias pir='pip install -r requirements.txt'
alias venv='python3 -m venv .venv && source .venv/bin/activate && echo "âœ… Virtual env created & activated"'
alias activate='source .venv/bin/activate'
alias deact='deactivate'

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ’» System Aliases                                                        â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
alias update='sudo apt update && sudo apt upgrade -y && echo "âœ… System updated!"'
alias install='sudo apt install'
alias remove='sudo apt remove'
alias cleanup='sudo apt autoremove -y && sudo apt autoclean && echo "ğŸ§¹ Cleaned up!"'
alias df='df -h'
alias du='du -h'
alias free='free -h'
alias top='htop 2>/dev/null || top'
# alias ports='sudo netstat -tulanp'
# alias myip='curl -s ifconfig.me && echo ""'
# alias localip='hostname -I | awk "{print \$1}"'
alias ping='ping -c 5'
alias reload='source ~/.zshrc && echo "âœ… ZSH reloaded!"'
alias zshconfig='code ~/.zshrc'
alias hosts='sudo nano /etc/hosts'

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ” Search & Find                                                         â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
alias grep='grep --color=auto'
alias egrep='egrep --color=auto'
alias fgrep='fgrep --color=auto'
# alias h='history | grep'

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ âš¡ Shortcuts                                                             â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
alias c='clear'
alias q='exit'
alias x='exit'
alias e='code .'
alias o='xdg-open'
alias tracker='python3 ~/tech-career/create_progress.py'
alias projects='cd ~/Documents && ls'
alias downloads='cd ~/Downloads && ls'
alias desktop='cd ~/Desktop && ls'

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ› ï¸  Utility Functions                                                    â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

# Create directory and cd into it
mkcd() {
    mkdir -pv "$1" && cd "$1"
}

# Find file by name
ff() {
    find . -type f -iname "*$1*" 2>/dev/null
}

# Find directory by name
fd() {
    find . -type d -iname "*$1*" 2>/dev/null
}

# Quick backup with timestamp
backup() {
    local filename="${1%/}"
    cp -r "$filename" "${filename}.bak.$(date +%Y%m%d_%H%M%S)"
    echo "âœ… Backed up: ${filename}.bak.$(date +%Y%m%d_%H%M%S)"
}

# Extract any archive
extract() {
    if [[ -f "$1" ]]; then
        case "$1" in
            *.tar.bz2)   tar xjf "$1"    ;;
            *.tar.gz)    tar xzf "$1"    ;;
            *.tar.xz)    tar xJf "$1"    ;;
            *.bz2)       bunzip2 "$1"    ;;
            *.rar)       unrar x "$1"    ;;
            *.gz)        gunzip "$1"     ;;
            *.tar)       tar xf "$1"     ;;
            *.tbz2)      tar xjf "$1"    ;;
            *.tgz)       tar xzf "$1"    ;;
            *.zip)       unzip "$1"      ;;
            *.Z)         uncompress "$1" ;;
            *.7z)        7z x "$1"       ;;
            *.deb)       ar x "$1"       ;;
            *)           echo "âŒ '$1' cannot be extracted" ;;
        esac
    else
        echo "âŒ '$1' is not a valid file"
    fi
}

# Quick note taking
note() {
    local note_file="$HOME/.notes"
    if [[ $# -eq 0 ]]; then
        cat "$note_file" 2>/dev/null || echo "ğŸ“ No notes yet. Use: note 'your note'"
    else
        echo "$(date '+%Y-%m-%d %H:%M') | $*" >> "$note_file"
        echo "âœ… Note saved!"
    fi
}

# Weather in terminal
weather() {
    curl -s "wttr.in/${1:-}?format=3"
}

# Quick calculator
calc() {
    echo "scale=2; $*" | bc -l
}

# Show top 10 commands
topcmds() {
    history | awk '{CMD[$2]++;count++;}END { for (a in CMD)print CMD[a] " " CMD[a]/count*100 "% " a;}' | grep -v "./" | column -c3 -s " " -t | sort -nr | nl | head -n 10
}

# Process killer by name
killp() {
    ps aux | grep -i "$1" | grep -v grep | awk '{print $2}' | xargs -r kill -9
    echo "âœ… Killed processes matching: $1"
}

# Git clone and cd into directory
gclone() {
    git clone "$1" && cd "$(basename "$1" .git)"
}

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸŒ Environment Variables                                                 â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
export EDITOR='code --wait'
export VISUAL='code --wait'
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8

# API Keys (Consider moving to ~/.secrets)
export gemini_flash_api='AIzaSyA6UOt7ay99_NJ7x1jB7zrF_9LVGoLJhSY'

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ“¦ NVM (Node Version Manager)                                            â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ¤– GitHub Copilot CLI                                                    â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
eval "$(gh copilot alias -- zsh)" 2>/dev/null

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ‰ Welcome Message                                                       â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
welcome_msg() {
    local HOUR=$(date +%H)
    local GREETING=""
    
    if [ $HOUR -lt 12 ]; then
        GREETING="Good morning"
    elif [ $HOUR -lt 17 ]; then
        GREETING="Good afternoon"
    else
        GREETING="Good evening"
    fi
    
    echo ""
    echo "  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®"
    echo "  â”‚  $GREETING, $(whoami)! ğŸ‘‹                          "
    echo "  â”‚  ğŸ“… $(date '+%A, %B %d, %Y')                        "
    echo "  â”‚  ğŸ• $(date '+%I:%M %p')                              "
    echo "  â”‚  ğŸ’» $(hostname) â€¢ $(uname -s)                       "
    echo "  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯"
    echo ""
}

# Only show welcome in interactive shell
[[ -o interactive ]] && welcome_msg

# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ“š Quick Help                                                            â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
help_zsh() {
    echo ""
    echo "  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®"
    echo "  â”‚                    ğŸš€ ZSH Quick Reference                     â”‚"
    echo "  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
    echo "  â”‚  Navigation:   ..  ...  ....  ~  -  z <dir>                   â”‚"
    echo "  â”‚  Files:        ll  la  lt  lS  tree                           â”‚"
    echo "  â”‚  Git:          gs  ga  gc  gp  gpl  gl  gco  gcb              â”‚"
    echo "  â”‚  Python:       py  venv  activate  pir                        â”‚"
    echo "  â”‚  System:       update  cleanup  myip  ports  free             â”‚"
    echo "  â”‚  Utils:        mkcd  ff  fd  backup  extract  calc            â”‚"
    echo "  â”‚  Other:        note  weather  topcmds  gclone                 â”‚"
    echo "  â”‚  Shortcuts:    c=clear  e=code .  o=open  q=exit              â”‚"
    echo "  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
    echo "  â”‚  Keys:  ESC+ESC = sudo  |  Ctrl+R = history  |  Tab = completeâ”‚"
    echo "  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯"
    echo ""
}
alias helpme='help_zsh'

# ============================================
# MODERN CLI TOOLS - Auto-configured
# ============================================

# Starship Prompt (beautiful prompt)
if command -v starship &> /dev/null; then
    eval "$(starship init zsh)"
fi

# Zoxide (smart cd)
if command -v zoxide &> /dev/null; then
    eval "$(zoxide init zsh)"
fi

# Atuin (shell history)
if command -v atuin &> /dev/null; then
    eval "$(atuin init zsh --disable-up-arrow)"
fi

# ============================================
# ALIASES - Modern Tools
# ============================================

# eza (ls replacement)
if command -v eza &> /dev/null; then
    alias ls='eza --icons --group-directories-first'
    alias ll='eza -la --icons --git --group-directories-first'
    alias la='eza -la'
    alias l='eza --icons'
    alias lt='eza --tree --level=2'
    alias lta='eza --tree --level=2 -a'
    alias tree='eza --tree --level=3 --icons'
fi

# bat (cat replacement)
if command -v bat &> /dev/null; then
    alias cat='bat --paging=never'
    alias catp='bat'
    export BAT_THEME="Catppuccin-mocha"
fi

# ripgrep (grep replacement)
if command -v rg &> /dev/null; then
    # alias grep='rg'  # Commented out - conflicts with line 197
    alias rga='rg --hidden --no-ignore'
fi

# duf (df replacement)
if command -v duf &> /dev/null; then
    alias df='duf'
fi

# procs (ps replacement)
if command -v procs &> /dev/null; then
    alias ps='procs'
    alias pstree='procs --tree'
fi

# dust (du replacement)
if command -v dust &> /dev/null; then
    alias du='dust'
fi

# System monitoring
if command -v btop &> /dev/null; then
    alias top='btop'
    alias htop='btop'
fi

# Git
if command -v lazygit &> /dev/null; then
    alias lg='lazygit'
fi

# ============================================
# FUNCTIONS - Enhanced Utilities
# ============================================

# File finder with bat preview
fprev() {
    command -v fd &> /dev/null && FD_CMD="fd" || FD_CMD="find . -type f"
    $FD_CMD | fzf --preview 'bat --color=always --style=numbers {}'
}

# Directory jump with eza preview
fcd() {
    local dir
    command -v fd &> /dev/null && FD_CMD="fd --type d" || FD_CMD="find . -type d"
    dir=$($FD_CMD | fzf --preview 'eza -la --icons --color=always {}')
    [ -n "$dir" ] && cd "$dir"
}

# Git log browser
if command -v delta &> /dev/null; then
    fglog() {
        git log --oneline | fzf --preview 'git show --color=always {1} | delta'
    }
fi

# Interactive process killer
if command -v procs &> /dev/null; then
    fkill() {
        procs | fzf --multi | awk '{print $1}' | xargs -r kill -9
    }
fi

# Quick help
if command -v tldr &> /dev/null; then
    unalias h 2>/dev/null || true
    h() {
        tldr "$1" 2>/dev/null || man "$1"
    }
fi



# ============================================
# URL SHORTCUTS SYSTEM
# ============================================

# Config file location
export URL_SHORTCUTS_FILE="$HOME/Desktop/url-shortcuts.txt"

# Unalias any conflicting aliases (in case they're defined by plugins)
unalias g 2>/dev/null || true
unalias yt 2>/dev/null || true
unalias gw 2>/dev/null || true
unalias h 2>/dev/null || true

# Google search - enhanced version
g() {
    if [ $# -eq 0 ]; then
        xdg-open "https://www.google.com" 2>/dev/null
    else
        local query=$(printf '%s+' "$@")
        query=${query%+}  # Remove trailing +
        xdg-open "https://www.google.com/search?q=$query" 2>/dev/null
    fi
}

# YouTube search - enhanced version
yt() {
    if [ $# -eq 0 ]; then
        xdg-open "https://www.youtube.com" 2>/dev/null
    else
        local query=$(printf '%s+' "$@")
        query=${query%+}
        xdg-open "https://www.youtube.com/results?search_query=$query" 2>/dev/null
    fi
}

# Google within site (gw = google within)
gw() {
    if [ $# -lt 2 ]; then
        echo "âŒ Usage: gw <site-alias> <search query>"
        echo "   Example: gw reddit best AI agents"
        echo "   Example: gw py async await"
        echo ""
        echo "ğŸ’¡ Add sites with: urls add py https://docs.python.org/3"
        return 1
    fi
    
    local site_alias="$1"
    shift
    local search_query="$*"
    
    # Load shortcuts to find the site URL
    local site_url=""
    if [ -f "$URL_SHORTCUTS_FILE" ]; then
        while IFS='=' read -r alias url || [ -n "$alias" ]; do
            # Skip comments and empty lines
            [[ "$alias" =~ ^[[:space:]]*# ]] && continue
            [[ -z "$alias" ]] && continue
            
            alias=$(echo "$alias" | xargs)  # Trim whitespace
            url=$(echo "$url" | xargs)
            
            if [ "$alias" = "$site_alias" ]; then
                site_url="$url"
                break
            fi
        done < "$URL_SHORTCUTS_FILE"
    fi
    
    # Extract domain from URL or use alias as-is
    local domain
    if [ -n "$site_url" ]; then
        domain=$(echo "$site_url" | sed -E 's|https?://(www\.)?||' | sed 's|/.*||')
    else
        domain="$site_alias"
        # Auto-add .com if no TLD
        [[ ! "$domain" =~ \. ]] && domain="${domain}.com"
    fi
    
    local full_query="site:${domain} ${search_query}"
    local encoded_query=$(printf '%s+' $full_query)
    encoded_query=${encoded_query%+}
    
    echo "ğŸ” site:$domain $search_query"
    xdg-open "https://www.google.com/search?q=$encoded_query" 2>/dev/null
}

# Main URL shortcuts command
u() {
    if [ $# -eq 0 ]; then
        echo "âŒ Usage: u <alias> [search query]"
        echo "   Or: u <url>"
        echo ""
        echo "ğŸ“‹ Available shortcuts: (run 'urls list')"
        return 1
    fi
    
    local alias_or_url="$1"
    shift
    local query="$*"
    
    # Check if it's a direct URL
    if [[ "$alias_or_url" =~ ^(https?://|www\.) ]]; then
        [[ ! "$alias_or_url" =~ ^https?:// ]] && alias_or_url="https://$alias_or_url"
        echo "ğŸŒ Opening: $alias_or_url"
        xdg-open "$alias_or_url" 2>/dev/null
        return 0
    fi
    
    # Load shortcuts
    local base_url=""
    if [ -f "$URL_SHORTCUTS_FILE" ]; then
        while IFS='=' read -r alias url || [ -n "$alias" ]; do
            [[ "$alias" =~ ^[[:space:]]*# ]] && continue
            [[ -z "$alias" ]] && continue
            
            alias=$(echo "$alias" | xargs)
            url=$(echo "$url" | xargs)
            
            if [ "$alias" = "$alias_or_url" ]; then
                base_url="$url"
                break
            fi
        done < "$URL_SHORTCUTS_FILE"
    fi
    
    if [ -n "$base_url" ]; then
        if [ -n "$query" ]; then
            # Smart search URL patterns for popular sites
            local target_url
            local encoded_query=$(printf '%s+' $query)
            encoded_query=${encoded_query%+}
            
            case "$base_url" in
                *reddit.com*)
                    target_url="${base_url}/search/?q=${encoded_query}"
                    ;;
                *github.com*)
                    target_url="${base_url}/search?q=${encoded_query}"
                    ;;
                *stackoverflow.com*)
                    target_url="${base_url}/search?q=${encoded_query}"
                    ;;
                *youtube.com*)
                    target_url="https://www.youtube.com/results?search_query=${encoded_query}"
                    ;;
                *twitter.com*)
                    target_url="https://twitter.com/search?q=${encoded_query}"
                    ;;
                *npmjs.com*)
                    target_url="https://www.npmjs.com/search?q=${encoded_query}"
                    ;;
                *pypi.org*)
                    target_url="https://pypi.org/search/?q=${encoded_query}"
                    ;;
                *)
                    target_url="${base_url}/search?q=${encoded_query}"
                    ;;
            esac
            
            echo "ğŸ” Searching $alias_or_url for: $query"
            xdg-open "$target_url" 2>/dev/null
        else
            echo "ğŸš€ Opening: $alias_or_url â†’ $base_url"
            xdg-open "$base_url" 2>/dev/null
        fi
    else
        # Try auto-construct www.{alias}.com
        if [[ "$alias_or_url" =~ ^[a-zA-Z0-9-]+$ ]]; then
            local target_url="https://www.${alias_or_url}.com"
            echo "ğŸŒ Trying: $target_url"
            echo "ğŸ’¡ Save it? Run: urls add $alias_or_url $target_url"
            xdg-open "$target_url" 2>/dev/null
        else
            echo "âŒ Alias '$alias_or_url' not found"
            echo ""
            echo "ğŸ“‹ Run 'urls list' to see available shortcuts"
            echo "ğŸ’¡ Add it with: urls add $alias_or_url <url>"
        fi
    fi
}

# URL shortcuts manager
urls() {
    local action="${1:-}"
    local alias="${2:-}"
    local url="${3:-}"
    
    # Ensure config file exists
    if [ ! -f "$URL_SHORTCUTS_FILE" ]; then
        echo "# URL Shortcuts - Format: alias=url" > "$URL_SHORTCUTS_FILE"
    fi
    
    case "$action" in
        add)
            if [ -z "$alias" ] || [ -z "$url" ]; then
                echo "âŒ Usage: urls add <alias> <url>"
                echo "   Example: urls add gh https://github.com"
                return 1
            fi
            
            # Auto-add https if missing
            [[ ! "$url" =~ ^https?:// ]] && url="https://$url"
            
            # Check if alias exists
            if grep -q "^${alias}=" "$URL_SHORTCUTS_FILE" 2>/dev/null; then
                echo "âš ï¸  '$alias' already exists. Use 'urls edit $alias <url>' to update."
                return 1
            fi
            
            echo "${alias}=${url}" >> "$URL_SHORTCUTS_FILE"
            echo "âœ… Added: $alias â†’ $url"
            ;;
            
        edit)
            if [ -z "$alias" ] || [ -z "$url" ]; then
                echo "âŒ Usage: urls edit <alias> <new-url>"
                return 1
            fi
            
            [[ ! "$url" =~ ^https?:// ]] && url="https://$url"
            
            if ! grep -q "^${alias}=" "$URL_SHORTCUTS_FILE" 2>/dev/null; then
                echo "âŒ '$alias' not found. Use 'urls add' to create it."
                return 1
            fi
            
            # Use sed to replace the line
            sed -i "s|^${alias}=.*|${alias}=${url}|" "$URL_SHORTCUTS_FILE"
            echo "âœ… Updated: $alias â†’ $url"
            ;;
            
        rm|remove|delete)
            if [ -z "$alias" ]; then
                echo "âŒ Usage: urls rm <alias>"
                return 1
            fi
            
            if ! grep -q "^${alias}=" "$URL_SHORTCUTS_FILE" 2>/dev/null; then
                echo "âŒ '$alias' not found"
                return 1
            fi
            
            sed -i "/^${alias}=/d" "$URL_SHORTCUTS_FILE"
            echo "ğŸ—‘ï¸  Removed: $alias"
            ;;
            
        list|ls)
            echo ""
            echo "  ğŸ”— URL SHORTCUTS"
            echo "  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
            
            if [ ! -s "$URL_SHORTCUTS_FILE" ]; then
                echo "  (no shortcuts yet)"
            else
                while IFS='=' read -r alias url || [ -n "$alias" ]; do
                    [[ "$alias" =~ ^[[:space:]]*# ]] && continue
                    [[ -z "$alias" ]] && continue
                    
                    alias=$(echo "$alias" | xargs)
                    url=$(echo "$url" | xargs)
                    
                    printf "  %-15s â†’ %s\n" "$alias" "$url"
                done < "$URL_SHORTCUTS_FILE"
            fi
            echo ""
            ;;
            
        *)
            echo ""
            echo "  ğŸ”— URL SHORTCUTS MANAGER"
            echo "  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
            echo ""
            echo "  Commands:"
            echo "    urls add <alias> <url>     Add new shortcut"
            echo "    urls edit <alias> <url>    Edit existing"
            echo "    urls rm <alias>            Remove shortcut"
            echo "    urls list                  List all shortcuts"
            echo ""
            echo "  Usage:"
            echo "    u leetcode                 â†’ Open leetcode.com"
            echo "    u reddit search term       â†’ Search within Reddit"
            echo "    g rust tutorials           â†’ Google search"
            echo "    gw reddit llms            â†’ Google site:reddit.com llms"
            echo "    yt lofi music             â†’ YouTube search"
            echo ""
            ;;
    esac
}

# Tab completion for urls command
_urls_completion() {
    local -a subcmds
    subcmds=('add:Add new URL shortcut' 'edit:Edit existing shortcut' 'rm:Remove shortcut' 'list:List all shortcuts')
    _describe 'urls' subcmds
}

compdef _urls_completion urls

# ============================================
# LEETCODE POTD (Problem of the Day)
# ============================================

potd() {
    echo "ğŸ” Fetching LeetCode Problem of the Day..."
    
    local query='{"query":"{ activeDailyCodingChallengeQuestion { link question { title difficulty } } }"}'
    local response
    
    # Make API request
    response=$(curl -s -X POST "https://leetcode.com/graphql" \
        -H "Content-Type: application/json" \
        -d "$query")
    
    if [ $? -ne 0 ]; then
        echo "âŒ Failed to fetch LeetCode POTD"
        return 1
    fi
    
    # Parse JSON response
    local link=$(echo "$response" | jq -r '.data.activeDailyCodingChallengeQuestion.link')
    local title=$(echo "$response" | jq -r '.data.activeDailyCodingChallengeQuestion.question.title')
    local difficulty=$(echo "$response" | jq -r '.data.activeDailyCodingChallengeQuestion.question.difficulty')
    
    if [ "$link" = "null" ] || [ -z "$link" ]; then
        echo "âŒ Failed to fetch LeetCode POTD"
        return 1
    fi
    
    local full_url="https://leetcode.com${link}"
    
    # Display info with colors
    echo ""
    echo -e "ğŸ“ \033[1;32mTitle:\033[0m $title"
    
    # Color based on difficulty
    case "$difficulty" in
        "Easy")
            echo -e "âš¡ \033[1;33mDifficulty:\033[0m \033[0;32m$difficulty\033[0m"
            ;;
        "Medium")
            echo -e "âš¡ \033[1;33mDifficulty:\033[0m \033[0;33m$difficulty\033[0m"
            ;;
        "Hard")
            echo -e "âš¡ \033[1;33mDifficulty:\033[0m \033[0;31m$difficulty\033[0m"
            ;;
        *)
            echo -e "âš¡ \033[1;33mDifficulty:\033[0m $difficulty"
            ;;
    esac
    
    echo -e "ğŸ”— \033[1;36mURL:\033[0m \033[0;34m$full_url\033[0m"
    echo ""
    echo "ğŸš€ Opening in browser..."
    
    # Open in browser
    xdg-open "$full_url" 2>/dev/null
}

# ============================================
# TERMINAL ENHANCEMENTS - ALL FEATURES
# ============================================
# Complete implementation of 8 terminal enhancement features

# Project Navigation System
export TERMINAL_PROJECTS_FILE="$HOME/.terminal-projects"

# Unalias any conflicting aliases
unalias proj 2>/dev/null || true

proj() {
    if [ $# -eq 0 ]; then
        # Fuzzy find projects with fzf if available
        if command -v fzf &> /dev/null && [ -f "$TERMINAL_PROJECTS_FILE" ] && [ -s "$TERMINAL_PROJECTS_FILE" ]; then
            local selection=$(cat "$TERMINAL_PROJECTS_FILE" | fzf --height=40% --prompt="ğŸ“‚ Select project: " --preview 'echo {} | cut -d"=" -f2 | xargs ls -la 2>/dev/null')
            if [ -n "$selection" ]; then
                local project_name=$(echo "$selection" | cut -d'=' -f1)
                local project_path=$(echo "$selection" | cut -d'=' -f2)
                cd "$project_path" && echo "ğŸ“‚ $project_name"
            fi
        else
            proj list
        fi
        return
    fi
    
    case "$1" in
        add)
            if [ $# -lt 3 ]; then
                echo "âŒ Usage: proj add <name> <path>"
                return 1
            fi
            local name="$2"
            local path="${3:-$(pwd)}"
            path=$(realpath "$path" 2>/dev/null || echo "$path")
            
            if grep -q "^$name=" "$TERMINAL_PROJECTS_FILE" 2>/dev/null; then
                echo "âš ï¸  Project '$name' already exists. Use 'proj edit' or 'proj rm $name' first."
                return 1
            fi
            
            echo "$name=$path" >> "$TERMINAL_PROJECTS_FILE"
            echo "âœ… Added project: $name â†’ $path"
            ;;
            
        list|ls)
            if [ ! -s "$TERMINAL_PROJECTS_FILE" ]; then
                echo "ğŸ“ No projects yet. Add one with: proj add <name> <path>"
                return
            fi
            
            echo "ğŸ“‚ Saved Projects:"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            while IFS='=' read -r name path; do
                if [ -d "$path" ]; then
                    echo -e "  \033[0;32mâœ“\033[0m $name â†’ \033[0;34m$path\033[0m"
                else
                    echo -e "  \033[0;31mâœ—\033[0m $name â†’ \033[0;90m$path (missing!)\033[0m"
                fi
            done < "$TERMINAL_PROJECTS_FILE"
            ;;
            
        rm|remove)
            if [ $# -lt 2 ]; then
                echo "âŒ Usage: proj rm <name>"
                return 1
            fi
            local name="$2"
            if grep -q "^$name=" "$TERMINAL_PROJECTS_FILE" 2>/dev/null; then
                sed -i "/^$name=/d" "$TERMINAL_PROJECTS_FILE"
                echo "âœ… Removed project: $name"
            else
                echo "âŒ Project '$name' not found"
                return 1
            fi
            ;;
            
        edit)
            ${EDITOR:-nano} "$TERMINAL_PROJECTS_FILE"
            ;;
            
        help|--help|-h)
            echo "ğŸ“‚ Project Navigation System"
            echo ""
            echo "Usage:"
            echo "  proj                    - Fuzzy find projects (requires fzf)"
            echo "  proj add <name> <path>  - Add new project bookmark"
            echo "  proj list               - List all projects"
            echo "  proj <name>             - Jump to project"
            echo "  proj rm <name>          - Remove project"
            echo "  proj edit               - Edit projects file"
            echo ""
            echo "Examples:"
            echo "  proj add backend ~/dev/backend"
            echo "  proj backend"
            echo "  proj"
            ;;
            
        *)
            # Jump to project
            local project_name="$1"
            local project_path=$(grep "^$project_name=" "$TERMINAL_PROJECTS_FILE" 2>/dev/null | cut -d'=' -f2)
            
            if [ -z "$project_path" ]; then
                echo "âŒ Project '$project_name' not found. Use 'proj list' to see all projects."
                return 1
            fi
            
            if [ ! -d "$project_path" ]; then
                echo "âŒ Directory doesn't exist: $project_path"
                return 1
            fi
            
            cd "$project_path" && echo "ğŸ“‚ $project_name"
            ;;
    esac
}

# Quick Notes System
export TERMINAL_NOTES_DIR="$HOME/.terminal-notes"
mkdir -p "$TERMINAL_NOTES_DIR"

note() {
    local today=$(date +%Y-%m-%d)
    local notes_file="$TERMINAL_NOTES_DIR/$today.md"
    local timestamp=$(date +"%H:%M")
    
    if [ $# -eq 0 ]; then
        # Show today's notes
        if [ -f "$notes_file" ]; then
            echo "ğŸ“ Notes for $today:"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            cat "$notes_file"
        else
            echo "ğŸ“ No notes for today yet. Add one with: note <text>"
        fi
        return
    fi
    
    case "$1" in
        --list|-l)
            echo "ğŸ“š All notes:"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            ls -1 "$TERMINAL_NOTES_DIR"/*.md 2>/dev/null | while read -r file; do
                local date=$(basename "$file" .md)
                local lines=$(wc -l < "$file")
                echo "  ğŸ“„ $date ($lines lines)"
            done
            ;;
            
        --search|-s)
            if [ $# -lt 2 ]; then
                echo "âŒ Usage: note --search <query>"
                return 1
            fi
            shift
            echo "ğŸ” Searching for: $*"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            grep -r --color=always "$*" "$TERMINAL_NOTES_DIR"/*.md 2>/dev/null || echo "No results found"
            ;;
            
        --today|-t)
            if [ -f "$notes_file" ]; then
                cat "$notes_file"
            else
                echo "ğŸ“ No notes for today"
            fi
            ;;
            
        --edit|-e)
            ${EDITOR:-nano} "$notes_file"
            ;;
            
        --help|-h)
           echo "ğŸ“ Quick Notes System"
            echo ""
            echo "Usage:"
            echo "  note <text>          - Add a note"
            echo "  note                 - Show today's notes"
            echo "  note --list          - List all notes"
            echo "  note --search <text> - Search in notes"
            echo "  note --edit          - Edit today's notes"
            echo ""
            ;;
            
        *)
            # Add note
            echo "[$timestamp] $*" >> "$notes_file"
            echo "âœ… Note added to $today"
            ;;
    esac
}

# Timer & Pomodoro
timer() {
    if [ $# -eq 0 ]; then
        echo "â±ï¸  Timer Usage:"
        echo "  timer <duration> [description]"
        echo "  Examples: timer 25m 'code review'"
        echo "            timer 5m"
        echo "            timer 45s"
        return
    fi
    
    local duration="$1"
    shift
    local description="$*"
    
    # Parse duration
    local seconds=0
    if [[ "$duration" =~ ^([0-9]+)m$ ]]; then
        seconds=$((${BASH_REMATCH[1]} * 60))
    elif [[ "$duration" =~ ^([0-9]+)s$ ]]; then
        seconds=${BASH_REMATCH[1]}
    elif [[ "$duration" =~ ^([0-9]+)h$ ]]; then
        seconds=$((${BASH_REMATCH[1]} * 3600))
    else
        echo "âŒ Invalid duration format. Use: 25m, 45s, or 1h"
        return 1
    fi
    
    echo "â±ï¸  Timer started: $duration ${description:+- $description}"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    
    sleep "$seconds"
    
    echo ""
    echo "âœ… Timer finished! ${description:+($description)}"
    
    # Send notification if available
    if command -v notify-send &> /dev/null; then
        notify-send "â±ï¸ Timer Complete" "${description:-Timer finished!}"
    fi
    
    # Beep
    echo -e "\a"
}

# Pomodoro presets
pomo() {
    case "${1:-work}" in
        work|"")
            echo "ğŸ… Starting 25-minute Pomodoro"
            timer 25m "Pomodoro work session"
            ;;
        short|break)
            echo "â˜• Starting 5-minute break"
            timer 5m "Short break"
            ;;
        long)
            echo "ğŸŒ´ Starting 15-minute break"
            timer 15m "Long break"
            ;;
        *)
            echo "ğŸ… Pomodoro Timer"
            echo ""
            echo "Usage:"
            echo "  pomo         - 25min work session"
            echo "  pomo short   - 5min break"
            echo "  pomo long    - 15min break"
            ;;
    esac
}

# System Info Dashboard
sysinfo() {
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo "  ğŸ’» SYSTEM INFORMATION"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo ""
    
    # System
    echo "ğŸ–¥ï¸  System:"
    echo "  $(uname -sr)"
    echo "  Hostname: $(hostname)"
    echo ""
    
    # CPU
    echo "âš¡ CPU:"
    if [ -f /proc/cpuinfo ]; then
        local cpu_model=$(grep "model name" /proc/cpuinfo | head -1 | cut -d: -f2 | xargs)
        local cpu_cores=$(grep -c processor /proc/cpuinfo)
        echo "  $cpu_model"
        echo "  Cores: $cpu_cores"
    fi
    echo ""
    
    # Memory
    echo "ğŸ’¾ Memory:"
    if command -v free &> /dev/null; then
        free -h | grep -E  "^Mem:" | awk '{print "  Used: "$3" / "$2" ("$3/$2*100"%)"}'
    fi
    echo ""
    
    # Disk
    echo "ğŸ’¿ Disk:"
    if command -v df &> /dev/null; then
        df -h / | tail -1 | awk '{print "  Used: "$3" / "$2" ("$5")"}'
    fi
    echo ""
    
    # Uptime
    echo "â° Uptime:"
    echo "  $(uptime -p 2>/dev/null || uptime)"
    echo ""
}

# Individual system commands
cpu() {
    echo "âš¡ CPU Information:"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    if [ -f /proc/cpuinfo ]; then
        grep "model name" /proc/cpuinfo | head -1 | cut -d: -f2 | xargs
        echo "Cores: $(grep -c processor /proc/cpuinfo)"
    fi
    echo ""
    if command -v top &> /dev/null; then
        echo "Top Processes:"
        top -b -n 1 | head -15
    fi
}

mem() {
    echo "ğŸ’¾ Memory Usage:"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    free -h
}

disk() {
    echo "ğŸ’¿ Disk Usage:"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    df -h | grep -E "^/dev/"
}

# Package Search & Management
pkg() {
    if [ $# -eq 0 ]; then
        echo "ğŸ“¦ Package Manager"
        echo ""
        echo "Usage:"
        echo "  pkg search <name>    - Search for package"
        echo "  pkg info <name>      - Show package info"
        echo "  pkg install <name>   - Install package"
        echo "  pkg update           - Update package lists"
        return
    fi
    
    case "$1" in
        search)
            if [ $# -lt 2 ]; then
                echo "âŒ Usage: pkg search <name>"
                return 1
            fi
            local query="$2"
            echo "ğŸ” Searching for: $query"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            
            echo ""
            echo "ğŸ“¦ APT:"
            apt-cache search "$query" 2>/dev/null | head -5
            
            echo ""
            echo "ğŸ“¦ Snap:"
            snap find "$query" 2>/dev/null | head -6
            
            echo ""
            echo "ğŸ“¦ Flatpak:"
            flatpak search "$query" 2>/dev/null | head -5
            ;;
            
        info)
            if [ $# -lt 2 ]; then
                echo "âŒ Usage: pkg info <name>"
                return 1
            fi
            local name="$2"
            echo "ğŸ“‹ Package info: $name"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            apt-cache show "$name" 2>/dev/null || snap info "$name" 2>/dev/null || echo "Package not found"
            ;;
            
        install)
            if [ $# -lt 2 ]; then
                echo "âŒ Usage: pkg install <name>"
                return 1
            fi
            local name="$2"
            echo "ğŸ“¦ Installing: $name"
            
            # Check apt first
            if apt-cache show "$name" &>/dev/null; then
                echo "Found in APT, installing..."
                sudo apt install "$name"
            elif snap info "$name" &>/dev/null; then
                echo "Found in Snap, installing..."
                sudo snap install "$name"
            else
                echo "âŒ Package not found in apt or snap"
                return 1
            fi
            ;;
            
        update)
            echo "ğŸ”„ Updating package lists..."
            sudo apt update
            ;;
            
        *)
            echo "âŒ Unknown command: $1"
            pkg
            ;;
    esac
}

# Network Tools
myip() {
    echo "ğŸŒ Public IP Address:"
    curl -s ifconfig.me && echo ""
}

localip() {
    echo "ğŸ  Local IP Addresses:"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    ip -4 addr show | grep inet | grep -v 127.0.0.1 | awk '{print "  "$2}' | cut -d/ -f1
}

ports() {
    echo "ğŸ”Œ Open Ports:"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    if command -v ss &> /dev/null; then
        ss -tuln | grep LISTEN
    elif command -v netstat &> /dev/null; then
        netstat -tuln | grep LISTEN
    else
        echo "âŒ Neither ss nor netstat found"
    fi
}

speedtest() {
    if command -v speedtest &> /dev/null; then
        echo "ğŸ“¡ Running speed test..."
        speedtest
    elif command -v speedtest-cli &> /dev/null; then
        echo "ğŸ“¡ Running speed test..."
        speedtest-cli
    else
        echo "âŒ speedtest or speedtest-cli not installed"
        echo "Install with: sudo apt install speedtest-cli"
    fi
}

netinfo() {
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo "  ğŸŒ NETWORK INFORMATION"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo ""
    myip
    echo ""
    localip
}

# VPN Shortcuts (Warp-CLI)
if command -v warp-cli &> /dev/null; then
    vpn() {
        echo "ğŸ”’ Connecting to Cloudflare WARP VPN..."
        warp-cli connect && echo "âœ… VPN Connected"
    }
    
    vpno() {
        echo "ğŸ”“ Disconnecting from VPN..."
        warp-cli disconnect && echo "âœ… VPN Disconnected"
    }
    
    vpnstatus() {
        warp-cli status
    }
fi

# AI Assistant (GitHub Copilot)
if command -v gh &> /dev/null; then
    # Check if copilot extension is installed
    if gh extension list 2>/dev/null | grep -q copilot; then
        
        # AI command suggestions
        ai() {
            if [ $# -eq 0 ]; then
                echo "ğŸ¤– AI Assistant"
                echo ""
                echo "Usage:"
                echo "  ai <query>      - Get command suggestions"
                echo "  aic <command>   - Explain a command"
                echo "  aix <query>     - Get suggestion and execute"
                echo "  fix             - Fix last failed command"
                echo ""
                echo "Examples:"
                echo "  ai find large files"
                echo "  aic 'tar -xzf file.tar.gz'"
                echo "  aix compress this folder"
                return
            fi
            
            echo "ğŸ¤– Asking GitHub Copilot..."
            gh copilot suggest "$*"
        }
        
        # Explain commands
        aic() {
            if [ $# -eq 0 ]; then
                echo "âŒ Usage: aic <command>"
                return 1
            fi
            
            echo "ğŸ¤– Explaining: $*"
            gh copilot explain "$*"
        }
        
        # AI with execution
        aix() {
            if [ $# -eq 0 ]; then
                echo "âŒ Usage: aix <query>"
                return 1
            fi
            
            echo "ğŸ¤– Getting suggestion..."
            local suggestion=$(gh copilot suggest "$*" 2>&1 | grep -A 1 "Suggestion" | tail -1 | xargs)
            
            if [ -n "$suggestion" ]; then
                echo ""
                echo "ğŸ’¡ Suggested: $suggestion"
                echo ""
                read -q "REPLY?Execute this command? (y/n) "
                echo ""
                if [[ $REPLY =~ ^[Yy]$ ]]; then
                    eval "$suggestion"
                fi
            else
                echo "âŒ No suggestion generated"
            fi
        }
        
        # Fix last command
        fix() {
            local last_cmd=$(fc -ln -1)
            echo "ğŸ”§ Last command: $last_cmd"
            echo ""
            ai "fix this error: $last_cmd"
        }
        
        # Explain last command
        explainlast() {
            local last_cmd=$(fc -ln -1)
            aic "$last_cmd"
        }
        
    fi
fi

# Backup & Sync System
export TERMINAL_BACKUPS_DIR="$HOME/.terminal-backups"
mkdir -p "$TERMINAL_BACKUPS_DIR/config"
mkdir -p "$TERMINAL_BACKUPS_DIR/projects"

backup() {
    if [ $# -eq 0 ]; then
        echo "ğŸ’¾ Backup System"
        echo ""
        echo "Usage:"
        echo "  backup config           - Backup dotfiles"
        echo "  backup project [name]   - Backup current/named project"
        echo "  backup list             - List backups"
        echo "  restore <file>          - Restore from backup"
        echo ""
        return
    fi
    
    local timestamp=$(date +%Y%m%d_%H%M%S)
    
    case "$1" in
        config)
            echo "ğŸ’¾ Backing up configuration files..."
            local backup_dir="$TERMINAL_BACKUPS_DIR/config/$timestamp"
            mkdir -p "$backup_dir"
            
            # Backup important dotfiles
            [ -f ~/.zshrc ] && cp ~/.zshrc "$backup_dir/zshrc"
            [ -f ~/.bashrc ] && cp ~/.bashrc "$backup_dir/bashrc"
            [ -f ~/.config/starship.toml ] && cp ~/.config/starship.toml "$backup_dir/starship.toml"
            [ -f ~/.gitconfig ] && cp ~/.gitconfig "$backup_dir/gitconfig"
            [ -f ~/.terminal-projects ] && cp ~/.terminal-projects "$backup_dir/terminal-projects"
            [ -d ~/.terminal-notes ] && cp -r ~/.terminal-notes "$backup_dir/terminal-notes"
            
            echo "âœ… Config backed up to: $backup_dir"
            ;;
            
        project)
            local project_name="${2:-$(basename $(pwd))}"
            local source_dir="${3:-$(pwd)}"
            
            echo "ğŸ’¾ Backing up project: $project_name"
            local backup_file="$TERMINAL_BACKUPS_DIR/projects/${project_name}_${timestamp}.tar.gz"
            
            tar -czf "$backup_file" -C "$(dirname "$source_dir")" "$(basename "$source_dir")" \
                --exclude='node_modules' \
                --exclude='.git' \
                --exclude='venv' \
                --exclude='__pycache__' \
                --exclude='dist' \
                --exclude='build'
            
            echo "âœ… Project backed up to: $backup_file"
            ;;
            
        list)
            echo "ğŸ“¦ Available Backups:"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo ""
            echo "ğŸ“ Config Backups:"
            ls -1 "$TERMINAL_BACKUPS_DIR/config" 2>/dev/null || echo "  (none)"
            echo ""
            echo "ğŸ“ Project Backups:"
            ls -1h "$TERMINAL_BACKUPS_DIR/projects" 2>/dev/null || echo "  (none)"
            ;;
            
        *)
            echo "âŒ Unknown backup command: $1"
            backup
            ;;
    esac
}

# Sync dotfiles to git
sync-dots() {
    echo "ğŸ”„ Syncing dotfiles..."
    
    local dots_repo="$HOME/dotfiles"
    
    if [ ! -d "$dots_repo" ]; then
        echo "âŒ Dotfiles repo not found at: $dots_repo"
        echo "Create one with: mkdir ~/dotfiles && cd ~/dotfiles && git init"
        return 1
    fi
    
    # Copy dotfiles
    cp ~/.zshrc "$dots_repo/zshrc"
    [ -f ~/.bashrc ] && cp ~/.bashrc "$dots_repo/bashrc"
    [ -f ~/.config/starship.toml ] && cp ~/.config/starship.toml "$dots_repo/starship.toml"
    [ -f ~/.gitconfig ] && cp ~/.gitconfig "$dots_repo/gitconfig"
    
    echo "âœ… Dotfiles synced to: $dots_repo"
    echo "ğŸ’¡ Don't forget to commit and push!"
}

# Tab completions for main commands
compdef _gnu_generic note
compdef _gnu_generic backup

# Add to end of ~/.zshrc for better colors and bold text

# ============================================
# TERMINAL AESTHETICS ENHANCEMENTS
# ============================================

# Force true colors
export COLORTERM=truecolor
export TERM=xterm-256color

# Better LS_COLORS (bold directories, colored extensions)
export LS_COLORS='di=1;34:ln=1;36:so=1;35:pi=1;33:ex=1;32:bd=1;33:cd=1;33:su=0;41:sg=0;46:tw=0;42:ow=0;43'

# Enable colors
autoload -U colors && colors

# Bold prompt helper functions
bold() { echo "\033[1m$*\033[0m"; }
red() { echo "\033[1;31m$*\033[0m"; }
green() { echo "\033[1;32m$*\033[0m"; }
yellow() { echo "\033[1;33m$*\033[0m"; }
blue() { echo "\033[1;34m$*\033[0m"; }
magenta() { echo "\033[1;35m$*\033[0m"; }
cyan() { echo "\033[1;36m$*\033[0m"; }

# Better man page colors
export LESS_TERMCAP_mb=$'\e[1;32m'      # begin bold
export LESS_TERMCAP_md=$'\e[1;34m'      # begin blink
export LESS_TERMCAP_me=$'\e[0m'         # reset bold/blink
export LESS_TERMCAP_so=$'\e[01;35m'     # begin reverse video
export LESS_TERMCAP_se=$'\e[0m'         # reset reverse video
export LESS_TERMCAP_us=$'\e[1;33m'      # begin underline
export LESS_TERMCAP_ue=$'\e[0m'         # reset underline

# Enhanced grep colors (bold matches)
export GREP_COLORS='ms=01;31:mc=01;31:sl=:cx=:fn=01;32:ln=32:bn=32:se=36'

# Test colors command
test-colors() {
    echo ""
    echo "ğŸ¨ Terminal Color Test:"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo ""
    echo "$(green 'âœ”') Bold Green   - Success messages"
    echo "$(red 'âœ˜') Bold Red      - Error messages"
    echo "$(yellow 'âš ') Bold Yellow  - Warning messages"
    echo "$(blue 'â„¹') Bold Blue    - Info messages"
    echo "$(cyan 'â†’') Bold Cyan    - Prompts"
    echo "$(magenta 'â˜…') Bold Magenta - Special items"
    echo ""
    echo "Icons test:"
    echo "ğŸ“‚ ğŸ“ âœ… âŒ ğŸ” ğŸ’» ğŸš€ âš¡ ğŸ¯ ğŸ”¥"
    echo "          "
    echo "         "
    echo ""
}

# Improved welcome message with bold text
clear-welcome() {
    clear
    echo ""
    echo "$(cyan 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”')"
    echo "$(bold "  ğŸš€ TERMINAL READY")"
    echo "$(cyan 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”')"
    echo ""
    echo "$(green 'âœ“') Date: $(date +'%A, %B %d, %Y')"
    echo "$(green 'âœ“') Time: $(date +'%I:%M %p')"
    echo "$(green 'âœ“') User: $USER"
    echo "$(green 'âœ“') Host: $(hostname)"
    echo ""
}
# ============================================
# ============================================
# ============================================
# ============================================
# ============================================
# ============================================
# ============================================
# BLUETOOTH & WIFI TERMINAL CONTROL
# ============================================
# Interactive Bluetooth and WiFi management with fzf

# ============================================
# BLUETOOTH CONTROLS
# ============================================

# Bluetooth interactive menu
bt() {
    if [ $# -eq 0 ]; then
        echo "ğŸ“± Bluetooth Control"
        echo ""
        echo "Usage:"
        echo "  bt on           - Turn Bluetooth ON"
        echo "  bt off          - Turn Bluetooth OFF"
        echo "  bt scan         - Scan for devices"
        echo "  bt devices      - List paired devices"
        echo "  bt connect      - Connect to device (with fzf)"
        echo "  bt disconnect   - Disconnect device (with fzf)"
        echo "  bt pair         - Pair new device (with fzf)"
        echo "  bt unpair       - Unpair device (with fzf)"
        echo "  bt status       - Show Bluetooth status"
        return
    fi
    
    case "$1" in
        on)
            echo "ğŸ”µ Turning Bluetooth ON..."
            bluetoothctl power on
            echo "âœ… Bluetooth is ON"
            ;;
            
        off)
            echo "âš« Turning Bluetooth OFF..."
            bluetoothctl power off
            echo "âœ… Bluetooth is OFF"
            ;;
            
        scan)
            echo "ğŸ” Scanning for Bluetooth devices..."
            echo "   (Press Ctrl+C to stop)"
            bluetoothctl --timeout 15 scan on
            ;;
            
        devices|list)
            echo "ğŸ“± Paired Bluetooth Devices:"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo "Status  Device Name                    MAC Address"
            echo "------  -----------------------------  -----------------"
            bluetoothctl devices | while read -r line; do
                mac=$(echo "$line" | awk '{print $2}')
                name=$(echo "$line" | cut -d' ' -f3-)
                
                # Check if connected
                if bluetoothctl info "$mac" 2>/dev/null | grep -q "Connected: yes"; then
                    printf "  âœ“     %-30s %s [CONNECTED]\n" "$name" "$mac"
                else
                    printf "  â—‹     %-30s %s\n" "$name" "$mac"
                fi
            done
            ;;
            
        connect)
            if ! command -v fzf &> /dev/null; then
                echo "âŒ fzf not installed. Install with: cargo install fzf"
                return 1
            fi
            
            echo "ğŸ“± Select device to connect:"
            # Format: Device <MAC> Name for better readability
            local selection=$(bluetoothctl devices | awk '{mac=$2; $1=$2=""; print mac" - "$0}' | column -t | fzf --height=40% --prompt="Select device (MAC - Name): " --preview='bluetoothctl info $(echo {} | awk "{print \$1}")')
            
            if [ -n "$selection" ]; then
                local mac=$(echo "$selection" | awk '{print $1}')
                local name=$(echo "$selection" | cut -d'-' -f2- | xargs)
                echo "ğŸ”— Connecting to $name (MAC: $mac)..."
                bluetoothctl connect "$mac"
            fi
            ;;
            
        disconnect)
            if ! command -v fzf &> /dev/null; then
                echo "âŒ fzf not installed"
                return 1
            fi
            
            echo "ğŸ“± Select device to disconnect:"
            # Format with MAC address
            local selection=$(bluetoothctl devices | awk '{mac=$2; $1=$2=""; print mac" - "$0}' | column -t | fzf --height=40% --prompt="Select device (MAC - Name): ")
            
            if [ -n "$selection" ]; then
                local mac=$(echo "$selection" | awk '{print $1}')
                local name=$(echo "$selection" | cut -d'-' -f2- | xargs)
                echo "ğŸ”Œ Disconnecting from $name (MAC: $mac)..."
                bluetoothctl disconnect "$mac"
            fi
            ;;
            
        pair)
            echo "ğŸ” First, scan for nearby devices..."
            echo "   Starting scan (will run for 15 seconds)..."
            bluetoothctl --timeout 15 scan on &
            sleep 15
            
            if ! command -v fzf &> /dev/null; then
                echo "âŒ fzf not installed"
                return 1
            fi
            
            echo ""
            echo "ğŸ“± Select device to pair:"
            # Format with MAC address
            local selection=$(bluetoothctl devices | awk '{mac=$2; $1=$2=""; print mac" - "$0}' | column -t | fzf --height=40% --prompt="Select device (MAC - Name): ")
            
            if [ -n "$selection" ]; then
                local mac=$(echo "$selection" | awk '{print $1}')
                local name=$(echo "$selection" | cut -d'-' -f2- | xargs)
                echo "ğŸ¤ Pairing with $name (MAC: $mac)..."
                bluetoothctl pair "$mac"
                echo "âœ“ Trusting device..."
                bluetoothctl trust "$mac"
            fi
            ;;
            
        unpair|remove)
            if ! command -v fzf &> /dev/null; then
                echo "âŒ fzf not installed"
                return 1
            fi
            
            echo "ğŸ“± Select device to unpair:"
            # Format with MAC address
            local selection=$(bluetoothctl devices | awk '{mac=$2; $1=$2=""; print mac" - "$0}' | column -t | fzf --height=40% --prompt="Select device (MAC - Name): ")
            
            if [ -n "$selection" ]; then
                local mac=$(echo "$selection" | awk '{print $1}')
                local name=$(echo "$selection" | cut -d'-' -f2- | xargs)
                echo "ğŸ—‘ï¸  Removing $name (MAC: $mac)..."
                bluetoothctl remove "$mac"
                echo "âœ… Device removed"
            fi
            ;;
            
        status)
            echo "ğŸ“± Bluetooth Status:"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            bluetoothctl show | grep -E "Powered|Discoverable|Pairable|Name"
            echo ""
            echo "Connected devices:"
            bluetoothctl devices | while read -r line; do
                mac=$(echo "$line" | awk '{print $2}')
                if bluetoothctl info "$mac" 2>/dev/null | grep -q "Connected: yes"; then
                    name=$(echo "$line" | cut -d' ' -f3-)
                    printf "  âœ“ %-30s (MAC: %s)\n" "$name" "$mac"
                fi
            done
            ;;
            
        *)
            echo "âŒ Unknown command: $1"
            bt
            ;;
    esac
}

# Quick Bluetooth toggle
bton() { bt on; }
btoff() { bt off; }
btconnect() { bt connect; }

# ============================================
# WIFI CONTROLS
# ============================================

# WiFi interactive menu
wifi() {
    if [ $# -eq 0 ]; then
        echo "ğŸ“¶ WiFi Control"
        echo ""
        echo "Usage:"
        echo "  wifi on           - Turn WiFi ON"
        echo "  wifi off          - Turn WiFi OFF"
        echo "  wifi scan         - Scan for networks"
        echo "  wifi list         - List available networks"
        echo "  wifi connect      - Connect to network (with fzf)"
        echo "  wifi disconnect   - Disconnect from network"
        echo "  wifi forget       - Forget network (with fzf)"
        echo "  wifi status       - Show WiFi status"
        echo "  wifi current      - Show current connection"
        echo "  wifi saved        - Show saved networks"
        return
    fi
    
    case "$1" in
        on)
            echo "ğŸ“¶ Turning WiFi ON..."
            nmcli radio wifi on
            echo "âœ… WiFi is ON"
            ;;
            
        off)
            echo "ğŸ“´ Turning WiFi OFF..."
            nmcli radio wifi off
            echo "âœ… WiFi is OFF"
            ;;
            
        scan)
            echo "ğŸ” Scanning for WiFi networks..."
            nmcli device wifi rescan
            sleep 2
            echo "âœ… Scan complete! Use 'wifi list' to see networks"
            ;;
            
        list|ls)
            echo "ğŸ“¶ Available WiFi Networks:"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            nmcli -f SSID,BSSID,SIGNAL,SECURITY,ACTIVE device wifi list | head -20
            echo ""
            echo "ğŸ’¡ BSSID = Network MAC Address (unique identifier)"
            ;;
            
        connect)
            if ! command -v fzf &> /dev/null; then
                echo "âŒ fzf not installed. Install with: cargo install fzf"
                return 1
            fi
            
            # Rescan first
            echo "ğŸ” Scanning for networks..."
            nmcli device wifi rescan 2>/dev/null
            sleep 2
            
            echo "ğŸ“¶ Select network to connect:"
            local selection=$(nmcli -f SSID,BSSID,SIGNAL,SECURITY device wifi list | tail -n +2 | fzf --height=40% --prompt="Select network (SSID | BSSID): " --header="SSID                  BSSID              SIGNAL  SECURITY")
            
            if [ -n "$selection" ]; then
                local ssid=$(echo "$selection" | awk '{print $1}')
                local bssid=$(echo "$selection" | awk '{print $2}')
                local security=$(echo "$selection" | awk '{$1=$2=$3=""; print $0}' | xargs)
                
                echo "ğŸ”— Connecting to: $ssid"
                echo "   BSSID (MAC): $bssid"
                
                # Check if password is saved in NetworkManager
                saved_connection=$(nmcli -t -f NAME connection show | grep -F "$ssid")
                
                if [ -n "$saved_connection" ]; then
                    # Use saved connection
                    echo "ğŸ” Using saved password..."
                    nmcli device wifi connect "$ssid"
                elif [[ "$security" == *"WPA"* ]] || [[ "$security" == *"WEP"* ]]; then
                    # No saved password, prompt for it
                    echo "ğŸ”’ Network is secured. Enter password:"
                    read -s password
                    nmcli device wifi connect "$ssid" password "$password"
                else
                    # Open network
                    nmcli device wifi connect "$ssid"
                fi
                
                if [ $? -eq 0 ]; then
                    echo "âœ… Connected to $ssid (BSSID: $bssid)"
                else
                    echo "âŒ Failed to connect"
                fi
            fi
            ;;
            
        disconnect)
            local current_ssid=$(nmcli -t -f active,ssid dev wifi | grep '^yes' | cut -d: -f2)
            local current_bssid=$(nmcli -f BSSID,ACTIVE device wifi list | grep '\*' | awk '{print $1}')
            
            if [ -n "$current_ssid" ]; then
                echo "ğŸ”Œ Disconnecting from: $current_ssid"
                echo "   BSSID: $current_bssid"
                nmcli device disconnect wlp0s20f3
                echo "âœ… Disconnected"
            else
                echo "âš ï¸  Not connected to any network"
            fi
            ;;
            
        forget)
            if ! command -v fzf &> /dev/null; then
                echo "âŒ fzf not installed"
                return 1
            fi
            
            echo "ğŸ“¶ Select network to forget:"
            local selection=$(nmcli -f NAME connection show | tail -n +2 | fzf --height=40% --prompt="Select network to forget: ")
            
            if [ -n "$selection" ]; then
                echo "ğŸ—‘ï¸  Forgetting network: $selection"
                nmcli connection delete "$selection"
                echo "âœ… Network forgotten"
            fi
            ;;
            
        status)
            echo "ğŸ“¶ WiFi Status:"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo "Radio: $(nmcli radio wifi)"
            echo ""
            nmcli device status | grep wifi
            ;;
            
        current)
            echo "ğŸ“¶ Current Connection:"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            local ssid=$(nmcli -t -f active,ssid dev wifi | grep '^yes' | cut -d: -f2)
            if [ -n "$ssid" ]; then
                echo "  Connected to: $ssid"
                nmcli -f SSID,BSSID,SIGNAL,RATE,SECURITY device wifi list | grep "$ssid"
                echo ""
                local bssid=$(nmcli -f BSSID,ACTIVE device wifi list | grep '\*' | awk '{print $1}')
                echo "  MAC Address (BSSID): $bssid"
            else
                echo "  Not connected to any network"
            fi
            ;;
            
        saved)
            echo "ğŸ’¾ Saved WiFi Networks:"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo "Network Name                      Type    UUID"
            echo "--------------------------------  ------  ------------------------------------"
            nmcli -f NAME,TYPE,UUID connection show | grep wifi
            echo ""
            echo "ğŸ’¡ Use 'wifi connect' to connect or 'wifi forget' to remove"
            ;;
            
        *)
            echo "âŒ Unknown command: $1"
            wifi
            ;;
    esac
}

# Quick WiFi shortcuts
wifion() { wifi on; }
wifioff() { wifi off; }
wificonnect() { wifi connect; }

# Combined wireless control
wireless() {
    echo "ğŸ“¡ Wireless Control Center"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo ""
    echo "ğŸ“± Bluetooth:"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    bluetoothctl show | grep -E "Powered" | head -1
    echo ""
    echo "Connected Devices:"
    local bt_connected=0
    bluetoothctl devices | while read -r line; do
        mac=$(echo "$line" | awk '{print $2}')
        if bluetoothctl info "$mac" 2>/dev/null | grep -q "Connected: yes"; then
            name=$(echo "$line" | cut -d' ' -f3-)
            printf "  âœ“ %-30s (MAC: %s)\n" "$name" "$mac"
            bt_connected=1
        fi
    done
    [ $bt_connected -eq 0 ] && echo "  (no devices connected)"
    
    echo ""
    echo "ğŸ“¶ WiFi:"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    
    # Cache nmcli output for speed
    local wifi_list=$(nmcli -t -f IN-USE,SSID,BSSID,SIGNAL device wifi list 2>/dev/null)
    local wifi_status=$(nmcli radio wifi)
    
    echo "Radio: $wifi_status"
    echo ""
    
    if [ "$wifi_status" = "enabled" ] && [ -n "$wifi_list" ]; then
        # Extract current connection from cached list (marked with *)
        local current_line=$(echo "$wifi_list" | grep '^*:')
        
        if [ -n "$current_line" ]; then
            # Parse the line: *:SSID:BSSID:SIGNAL
            local current_ssid=$(echo "$current_line" | cut -d: -f2)
            local current_bssid=$(echo "$current_line" | cut -d: -f3)
            local signal=$(echo "$current_line" | cut -d: -f4)
            
            echo "Connected to: $current_ssid"
            echo "BSSID (MAC):  $current_bssid"
            echo "Signal:       ${signal}%"
        else
            echo "Not connected to any network"
        fi
    else
        echo "WiFi disabled or unavailable"
    fi
}

# Quick status check
wstatus() { wireless; }


# Learning System
source ~/Documents/windows\ scripts/learning-system.zsh

# Antigravity Alias
alias ag='antigravity'
qbit() {
    local search_query="$*"
    
    if [ -z "$search_query" ]; then
        echo "Usage: qbit <search query>"
        echo "Example: qbit ubuntu iso"
        return 1
    fi
    
    # Start qBittorrent if not running
    if ! pgrep -x "qbittorrent" > /dev/null; then
        echo "ğŸš€ Starting qBittorrent..."
        qbittorrent &
        sleep 3
    else
        echo "âœ“ qBittorrent already running"
    fi
    
    # Check if xdotool is installed
    if command -v xdotool &> /dev/null; then
        echo "ğŸ” Searching for: $search_query"
        
        # Focus qBittorrent window
        xdotool search --class "qbittorrent" windowactivate --sync
        sleep 0.5
        
        # Open Search tab (F3 in qBittorrent)
        xdotool key --clearmodifiers F3
        sleep 1
        
        # Focus search input field (usually auto-focused)
        xdotool key --clearmodifiers ctrl+a
        sleep 0.2
        
        # Type search query
        xdotool type "$search_query"
        sleep 0.3
        
        # Press Enter to search
        xdotool key Return
        
        echo "âœ… Search initiated for: $search_query"
    else
        echo "âš ï¸  xdotool not installed. Opening qBittorrent manually."
        echo "   Install with: sudo apt install xdotool"
        # Just bring qBittorrent to front
        wmctrl -a qbittorrent 2>/dev/null || true
    fi
}
